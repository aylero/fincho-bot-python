# **Fincho Bot - Health Checker**

ุฑุจุงุช ุชูฺฏุฑุงู ุจุฑุง ูุธุงุฑุช ุจุฑ ูุถุนุช ุณุณุชู ู ุณุฑูุณโูุง ุจุง ูุงุจูุช ุงุฑุณุงู ูุดุฏุงุฑ ู ุขูุงุฑฺฏุฑ ุฏูู.

---

## **ูฺฺฏโูุง**
โ **ูุงูุชูุฑูฺฏ ุณุณุชู**: ููุงุด CPUุ ุญุงูุธูุ ุฏุณฺฉ ู ุงุชุตุงูุงุช ุดุจฺฉู  
โ **ุจุฑุฑุณ ุณุฑูุณ**: ูุธุงุฑุช ุจุฑ Health Check API  
โ **ูุดุฏุงุฑูุง ููุดููุฏ**: ุงุฑุณุงู ุงุนูุงู ููุฑ ุจุฑุง ูุดฺฉูุงุช ุจุญุฑุงู  
โ **ุชฺฏ ฺฉุฑุฏู ูุฏุฑุงู**: ุงุทูุงุนโุฑุณุงู ุฎูุฏฺฉุงุฑ ุจู ูุฏุฑุงู ุฏุฑ ููุงูุน ุจุญุฑุงู  
โ **ุงุทูุงุนโุฑุณุงู ุจุงุฒุงุจ**: ุงุนูุงู ุฎูุฏฺฉุงุฑ ููฺฏุงู ุจุฑฺฏุดุช ุณุฑูุณ ุจู ุญุงูุช ุขููุงู  
โ **ุขูุงุฑฺฏุฑ ุฏูู**: ุซุจุช ุฒูุงูโูุง ุฏูู ุขูพุชุงู ู ุฏุงูโุชุงู ุณุฑูุณ  
โ **ฺฏุฒุงุฑุด ุฑูุฒุงูู ู ููุชฺฏ**: ุขูุงุฑ ุฏูู ุงุฒ ูุถุนุช ุณุฑูุณ ุฏุฑ ุจุงุฒูโูุง ูุฎุชูู  
โ **ุฐุฎุฑูโุณุงุฒ ุฏุงุฏูโูุง**: ุญูุธ ุขูุงุฑ ุญุช ูพุณ ุงุฒ ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ุฑุจุงุช

---

## **ุฑุงูโุงูุฏุงุฒ ุณุฑุน**
### **ฑ. ูุตุจ ูุงุจุณุชฺฏโูุง**
```bash
pip install aiogram aiohttp psutil
```

### **ฒ. ุชูุธู ูพฺฉุฑุจูุฏ**
ูุงู `.env` ุฑุง ุงุฌุงุฏ ฺฉูุฏ ุง ููุงุฏุฑ ุฑุง ูุณุชููุงู ุฏุฑ ฺฉุฏ ุชูุธู ููุงุฏ:
```env
API_TOKEN=YOUR_TELEGRAM_BOT_TOKEN
CHAT_ID=YOUR_TELEGRAM_CHAT_ID
THREAD_ID=YOUR_THREAD_ID
HEALTH_CHECK_URL=http://127.0.0.1:3000/health/check
```

### **ณ. ุงุฌุฑุง ุฑุจุงุช**
```bash
python bot.py
```

---

## **ุงุฌุฑุง ุจูโุนููุงู ุณุฑูุณ**
```bash
sudo nano /etc/systemd/system/fincho-health-checker.service
```

ูุญุชูุง ูุงู ุณุฑูุณ:
```ini
[Unit]
Description=Fincho Health Check Bot
After=network.target

[Service]
User=YOUR_USERNAME
WorkingDirectory=/path/to/bot
ExecStart=/usr/bin/python3 /path/to/bot/bot.py
Restart=always

[Install]
WantedBy=multi-user.target
```

ูุนุงูโุณุงุฒ ุณุฑูุณ:
```bash
sudo systemctl daemon-reload
sudo systemctl enable fincho-health-checker.service
sudo systemctl start fincho-health-checker.service
```

---

## **ุฏุณุชูุฑุงุช ุฑุจุงุช**
๐น `/check` - ุจุฑุฑุณ ฺฉุงูู ุณุณุชู ู ุณุฑูุณ  
๐น `/system` - ููุงุด ุงุทูุงุนุงุช ุณุณุชู  
๐น `/service` - ููุงุด ูุถุนุช ุณุฑูุณ  
๐น `/stats` - ููุงุด ุขูุงุฑ ฺฉู ุณุฑูุณ  
๐น `/daily` - ููุงุด ุขูุงุฑ ุงูุฑูุฒ  
๐น `/weekly` - ููุงุด ุขูุงุฑ ููุชฺฏ  
๐น `/help` - ููุงุด ุฑุงูููุง

---

## **ุชูุธูุงุช ูพุดุฑูุชู**

ุฑุจุงุช ุฏุงุฑุง ุชูุธูุงุช ูพุดุฑูุชูโุง ุงุณุช ฺฉู ูโุชูุงูุฏ ุจุง ุชุบุฑ ููุงุฏุฑ ุซุงุจุช ุฏุฑ ุงุจุชุฏุง ฺฉุฏุ ุฑูุชุงุฑ ุขู ุฑุง ุชูุธู ฺฉูุฏ:

```python
# ุชูุธูุงุช ูุงูุชูุฑูฺฏ
CHECK_INTERVAL = 86400  # ุฒูุงู ุจู ฺฏุฒุงุฑุดโูุง ุฑูุฒุงูู (ุซุงูู)
MONITORING_INTERVAL = 20  # ูุงุตูู ุฒูุงู ุจุฑุฑุณ ุณุณุชู (ุซุงูู)
CRITICAL_CPU_THRESHOLD = 90  # ุขุณุชุงูู ูุดุฏุงุฑ ุจุฑุง CPU (ุฏุฑุตุฏ)
CRITICAL_MEMORY_THRESHOLD = 90  # ุขุณุชุงูู ูุดุฏุงุฑ ุจุฑุง ุญุงูุธู (ุฏุฑุตุฏ)
CRITICAL_DISK_THRESHOLD = 90  # ุขุณุชุงูู ูุดุฏุงุฑ ุจุฑุง ุฏุณฺฉ (ุฏุฑุตุฏ)
ALERT_REPEAT_INTERVAL = 1800  # ูุงุตูู ุชฺฉุฑุงุฑ ูุดุฏุงุฑูุง (ุซุงูู)
RECOVERY_NOTIFICATION = True  # ุงุนูุงู ุจุงุฒุงุจ ุณุฑูุณ
STATS_SUMMARY_HOUR = 23  # ุณุงุนุช ุงุฑุณุงู ฺฏุฒุงุฑุด ุขูุงุฑ ุฑูุฒุงูู
STATS_SUMMARY_MINUTE = 0  # ุฏููู ุงุฑุณุงู ฺฏุฒุงุฑุด ุขูุงุฑ ุฑูุฒุงูู
```

---

## **ูฺฺฏโูุง ุขูุงุฑ**

### **ฑ. ุขูุงุฑ ุฑูุฒุงูู**
- ุฏุฑุตุฏ ุฏุณุชุฑุณโูพุฐุฑ ุณุฑูุณ
- ูุฏุช ุฒูุงู ุขูพุชุงู ู ุฏุงูโุชุงู
- ุชุนุฏุงุฏ ูุทุนโูุง ุณุฑูุณ
- ูุถุนุช ูุนู ุณุฑูุณ

### **ฒ. ุขูุงุฑ ููุชฺฏ**
- ุฎูุงุตู ุนููฺฉุฑุฏ ท ุฑูุฒ ฺฏุฐุดุชู
- ูุงูฺฏู ุฏุณุชุฑุณโูพุฐุฑ
- ูููุฏุงุฑ ุฑูุฒุงูู ูุถุนุช ุณุฑูุณ

### **ณ. ุขูุงุฑ ฺฉู**
- ุฒูุงู ฺฉู ุขูพุชุงู ู ุฏุงูโุชุงู
- ุชุนุฏุงุฏ ฺฉู ูุทุนโูุง
- ุฏุฑุตุฏ ุฏุณุชุฑุณโูพุฐุฑ ฺฉู ุงุฒ ุฒูุงู ุดุฑูุน ูุงูุชูุฑูฺฏ

---

## **ุชฺฏ ฺฉุฑุฏู ูุฏุฑุงู**

ุจุฑุง ุชูุธู ูุณุช ูุฏุฑุงู ฺฉู ุจุงุฏ ุฏุฑ ููุงูุน ุจุญุฑุงู ุชฺฏ ุดููุฏุ ููุฏุงุฑ `ADMIN_USERNAMES` ุฑุง ุฏุฑ ุงุจุชุฏุง ฺฉุฏ ุชุบุฑ ุฏูุฏ:

```python
# ุชูุธูุงุช ูุฏุฑุงู
ADMIN_USERNAMES = ["username1", "username2", "username3"]  # ูุงูโูุง ฺฉุงุฑุจุฑ ุชูฺฏุฑุงู ุจุฏูู @ 
```

---

## **ุฐุฎุฑูโุณุงุฒ ุฏุงุฏูโูุง**

ุขูุงุฑ ุณุฑูุณ ุฏุฑ ูุงู `service_stats.json` ุฐุฎุฑู ูโุดูุฏ ู ูพุณ ุงุฒ ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ุฑุจุงุชุ ุฏุงุฏูโูุง ุญูุธ ูโุดููุฏ. ุงู ูุงู ุดุงูู:

- ุชุงุฑุฎฺู ุฏุงูโุชุงูโูุง ุจุง ุฒูุงู ุฏูู ุดุฑูุน ู ูพุงุงู
- ุขูุงุฑ ุฑูุฒุงูู ุฏุณุชุฑุณโูพุฐุฑ
- ุฒูุงู ฺฉู ุขูพุชุงู ู ุฏุงูโุชุงู

---

## **ูฺฉุงุช ูพุดุฑูุชู**

### **ฑ. ุชูุธู ุขุณุชุงููโูุง ูุดุฏุงุฑ**
ุขุณุชุงููโูุง ูุดุฏุงุฑ ุจุฑุง CPUุ ุญุงูุธู ู ุฏุณฺฉ ุฑุง ูโุชูุงูุฏ ุจุง ุชูุฌู ุจู ูุงุฒูุง ุฎูุฏ ุชูุธู ฺฉูุฏ.

### **ฒ. ฺฉูุชุฑู ูุงุตูู ุฒูุงู ูุดุฏุงุฑูุง**
ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุงุฑุณุงู ูุดุฏุงุฑูุง ูฺฉุฑุฑุ ููุฏุงุฑ `ALERT_REPEAT_INTERVAL` ุฑุง ุชูุธู ฺฉูุฏ.

### **ณ. ฺฏุฒุงุฑุด ุขูุงุฑ ุฎูุฏฺฉุงุฑ**
ุฑุจุงุช ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฏุฑ ุณุงุนุช ูุดุฎุต ุดุฏูุ ฺฏุฒุงุฑุด ุขูุงุฑ ุฑูุฒุงูู ุฑุง ุงุฑุณุงู ูโฺฉูุฏ.

---

## **ุนุจโุงุจ**

### **ฑ. ูุดฺฉู ุงุชุตุงู ุจู API**
ุงฺฏุฑ ุฑุจุงุช ููโุชูุงูุฏ ุจู ุณุฑูุณ ูุชุตู ุดูุฏุ ุขุฏุฑุณ `HEALTH_CHECK_URL` ุฑุง ุจุฑุฑุณ ฺฉูุฏ.

### **ฒ. ูุดฺฉู ุงุฑุณุงู ูพุงู**
ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ุฑุจุงุช ุฏุฑ ฺฏุฑูู ููุฑุฏ ูุธุฑ ุนุถู ุงุณุช ู ุฏุณุชุฑุณ ุงุฑุณุงู ูพุงู ุฏุงุฑุฏ.

### **ณ. ุฎุทุง ุฏุณุชุฑุณ ุจู ูุงู**
ูุทูุฆู ุดูุฏ ฺฉุงุฑุจุฑ ฺฉู ุฑุจุงุช ุฑุง ุงุฌุฑุง ูโฺฉูุฏุ ุฏุณุชุฑุณ ููุดุชู ุฏุฑ ูพูุดู ุฑุจุงุช ุฑุง ุฏุงุฑุฏ.

---

ุฑุจุงุช **Fincho Health Checker** ุงุจุฒุงุฑ ูุฏุฑุชููุฏ ุจุฑุง ูุธุงุฑุช ุจุฑ ุณุฑูุณโูุงุณุช ฺฉู ุจุง ุงุฑุงุฆู ุขูุงุฑ ุฏูู ู ูุดุฏุงุฑูุง ุจูโูููุนุ ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ ุชุง ูููุงุฑู ุงุฒ ูุถุนุช ุณุณุชูโูุง ุฎูุฏ ุขฺฏุงู ุจุงุดุฏ.